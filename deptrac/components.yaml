parameters:
  paths:
    - ./../src/Snicco/Component

  layers:
    - name: better_wp_hooks
      collectors:
        - type: className
          regex: Snicco\\Component\\BetterWPHooks\\.*

    - name: better_wp_mail
      collectors:
        - type: className
          regex: Snicco\\Component\\BetterWPMail\\.*

    - name: better_wpdb
      collectors:
        - type: className
          regex: Snicco\\Component\\BetterWPDB\\.*

    - name: kernel
      collectors:
        - type: className
          regex: Snicco\\Component\\Kernel\\.*

    - name: eloquent
      collectors:
        - type: className
          regex: Snicco\\Component\\Eloquent\\.*

    - name: event_dispatcher
      collectors:
        - type: className
          regex: Snicco\\Component\\EventDispatcher\\.*

    - name: http_routing
      collectors:
        - type: className
          regex: Snicco\\Component\\HttpRouting\\.*

    - name: psr7_error_handler
      collectors:
        - type: className
          regex: Snicco\\Component\\Psr7ErrorHandler\\.*

    - name: scopable_wp
      collectors:
        - type: className
          regex: Snicco\\Component\\BetterWPAPI\\.*

    - name: session
      collectors:
        - type: className
          regex: Snicco\\Component\\Session\\.*

    - name: signed_url
      collectors:
        - type: className
          regex: Snicco\\Component\\SignedUrl\\.*

    - name: str_arr
      collectors:
        - type: className
          regex: Snicco\\Component\\StrArr\\.*

    - name: templating
      collectors:
        - type: className
          regex: Snicco\\Component\\Templating\\.*

    - name: testable_clock
      collectors:
        - type: className
          regex: Snicco\\Component\\TestableClock\\.*

    - name: wp_object_cache_psr16
      collectors:
        - type: className
          regex: Snicco\\Component\\WPObjectCachePsr16\\.*

  ruleset:

    better_wp_mail:
      - scopable_wp

    better_wp_hooks:
      - event_dispatcher
      - scopable_wp

    kernel:
      - str_arr
      - pimple # tests only

    eloquent:
      - scopable_wp
      - str_arr # tests only

    http_routing:
      - psr7_error_handler
      - str_arr

    session:
      - str_arr
      - testable_clock

    signed_url:
      - testable_clock

    templating:
      - str_arr

    wp_object_cache_psr16:
      - scopable_wp