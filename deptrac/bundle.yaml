parameters:
  paths:
    - ./../src/Snicco/Bundle

  layers:
    - name: better_wp_hooks_bundle
      collectors:
        - type: className
          regex: Snicco\\Bundle\\BetterWPHooks\\.*

    - name: better_wpdb_bundle
      collectors:
        - type: className
          regex: Snicco\\Bundle\\BetterWPDB\\.*

    - name: debug_bundle
      collectors:
        - type: className
          regex: Snicco\\Bundle\\Debug\\.*

    - name: http_routing_bundle
      collectors:
        - type: className
          regex: Snicco\\Bundle\\HttpRouting\\.*

    - name: templating_bundle
        collectors:
            - type: className
              regex: Snicco\\Bundle\\Templating\\.*

    - name: testing_bundle
      collectors:
        - type: className
          regex: Snicco\\Bundle\\Testing\\.*

  ruleset:
    testing_bundle:
      - kernel
      - str_arr
      - pimple

    better_wp_hooks_bundle:
      - testing_bundle
      - better_wp_hooks
      - event_dispatcher
      - kernel
      - str_arr # test only
      - pimple # test only

    better_wpdb_bundle:
      - testing_bundle
      - better_wpdb
      - kernel
      - str_arr # test only
      - pimple # test only

    debug_bundle:
      - psr7_error_handler
      - kernel
      - http_routing_bundle
      - testing_bundle # dev only
      - http_routing
      - str_arr # dev only
      - pimple # dev only
      - better_wp_hooks_bundle # dev only

    http_routing_bundle:
      - kernel
      - better_wp_hooks_bundle
      - http_routing
      - psr7_error_handler
      - str_arr
      - event_dispatcher
      - better_wp_hooks_bundle
      - pimple # dev only
      - testing_bundle # dev only

