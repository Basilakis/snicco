parameters:
  paths:
    - ./../src/Snicco/Bundle

  layers:
    - name: better_wp_hooks_bundle
      collectors:
        - type: className
          regex: Snicco\\Bundle\\BetterWPHooks\\.*

    - name: better_wpdb_bundle
      collectors:
        - type: className
          regex: Snicco\\Bundle\\BetterWPDB\\.*

    - name: better_wp_mail_bundle
      collectors:
        - type: className
          regex: Snicco\\Bundle\\BetterWPMail\\.*

    - name: better_wp_cache_bundle
      collectors:
        - type: className
          regex: Snicco\\Bundle\\BetterWPCache\\.*

    - name: blade_bundle
      collectors:
        - type: className
          regex: Snicco\\Bundle\\Blade\\.*

    - name: debug_bundle
      collectors:
        - type: className
          regex: Snicco\\Bundle\\Debug\\.*

    - name: encryption_bundle
      collectors:
        - type: className
          regex: Snicco\\Bundle\\Encryption\\.*

    - name: http_routing_bundle
      collectors:
        - type: className
          regex: Snicco\\Bundle\\HttpRouting\\.*

    - name: session_bundle
      collectors:
        - type: className
          regex: Snicco\\Bundle\\Session\\.*

    - name: templating_bundle
      collectors:
        - type: className
          regex: Snicco\\Bundle\\Templating\\.*

    - name: testing_bundle
      collectors:
        - type: className
          regex: Snicco\\Bundle\\Testing\\.*

  ruleset:
    better_wp_hooks_bundle:
      - testing_bundle
      - better_wp_hooks
      - event_dispatcher
      - kernel

    better_wp_mail_bundle:
      - kernel
      - testing_bundle
      - templating
      - better_wp_mail
      - event_dispatcher

    better_wpdb_bundle:
      - testing_bundle
      - better_wpdb
      - kernel

    blade_bundle:
      - kernel
      - testing_bundle # dev only
      - templating
      - templating_bundle
      - blade

    debug_bundle:
      - psr7_error_handler
      - kernel
      - http_routing_bundle
      - testing_bundle # dev only
      - http_routing

    encryption_bundle:
      - kernel
      - testing_bundle

    http_routing_bundle:
      - kernel
      - better_wp_hooks_bundle
      - http_routing
      - psr7_error_handler
      - str_arr
      - event_dispatcher
      - better_wp_hooks_bundle
      - better_wp_api
      - testing_bundle # dev only
      - pimple # dev only

    session_bundle:
      - kernel
      - session
      - session_wp
      - session_psr16
      - better_wp_hooks
      - better_wp_api
      - better_wp_hooks_bundle
      - event_dispatcher
      - http_routing
      - http_routing_bundle
      - better_wpdb
      - better_wpdb_bundle
      - better_wp_cache
      - better_wp_cache_bundle
      - encryption_bundle
      - testing_bundle # dev
      - testable_clock # dev

    testing_bundle:
      - kernel
      - psr7_error_handler
      - pimple
      - session
      - session_bundle
      - http_routing
      - http_routing_bundle
      - event_dispatcher
      - better_wp_mail
      - better_wpdb_bundle #dev
      - str_arr #dev

    templating_bundle:
      - psr7_error_handler
      - http_routing
      - templating
      - kernel
      - testing_bundle # dev
      - better_wp_hooks_bundle #dev
      - http_routing_bundle # dev

    better_wp_cache_bundle:
      - testing_bundle
      - kernel
      - better_wp_cache

