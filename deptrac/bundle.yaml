parameters:
  paths:
    - ./../src/Snicco/Bundle

  layers:
    - name: better_wp_hooks_bundle
      collectors:
        - type: className
          regex: Snicco\\Bundle\\BetterWPHooks\\.*

    - name: better_wpdb_bundle
      collectors:
        - type: className
          regex: Snicco\\Bundle\\BetterWPDB\\.*

    - name: blade_bundle
      collectors:
        - type: className
          regex: Snicco\\Bundle\\Blade\\.*

    - name: debug_bundle
      collectors:
        - type: className
          regex: Snicco\\Bundle\\Debug\\.*

    - name: http_routing_bundle
      collectors:
        - type: className
          regex: Snicco\\Bundle\\HttpRouting\\.*

    - name: templating_bundle
      collectors:
        - type: className
          regex: Snicco\\Bundle\\Templating\\.*

    - name: testing_bundle
      collectors:
        - type: className
          regex: Snicco\\Bundle\\Testing\\.*

  ruleset:
    better_wp_hooks_bundle:
      - testing_bundle
      - better_wp_hooks
      - event_dispatcher
      - kernel

    better_wpdb_bundle:
      - testing_bundle
      - better_wpdb
      - kernel

    blade_bundle:
      - kernel
      - testing_bundle # dev only
      - templating
      - templating_bundle
      - blade

    debug_bundle:
      - psr7_error_handler
      - kernel
      - http_routing_bundle
      - testing_bundle # dev only
      - http_routing

    http_routing_bundle:
      - kernel
      - better_wp_hooks_bundle
      - http_routing
      - psr7_error_handler
      - str_arr
      - event_dispatcher
      - better_wp_hooks_bundle
      - testing_bundle # dev only
      - pimple # dev only

    testing_bundle:
      - kernel
      - psr7_error_handler
      - pimple

    templating_bundle:
      - psr7_error_handler
      - http_routing
      - templating
      - kernel
      - testing_bundle # dev
      - better_wp_hooks_bundle #dev
      - http_routing_bundle # dev

